<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>用户管理</title>
  <link rel="stylesheet" type="text/css" href="./css/common.css">
  <link rel="stylesheet" type="text/css" href="./easyui/themes/default/easyui.css">
  <link rel="stylesheet" type="text/css" href="./easyui/themes/icon.css">
  <script type="text/javascript" src="./easyui/jquery.min.js"></script>
  <script type="text/javascript" src="./easyui/jquery.easyui.min.js"></script>
  <script type="text/javascript" src="./easyui/locale/easyui-lang-zh_CN.js"></script>
</head>
<body style="margin: 1px;width: 100%;height: 100%" >
<table id="dg" title="用户管理" class="easyui-datagrid" fitColumns="true" pagination="true" rownumbers="true" url="user?action=list" fit="true" toolbar="#tb">
  <thead>
  <tr>
    <th field="cb" checkbox="true" align="center"></th>
    <th field="userId" width="50" align="center">编号</th>
    <th field="userName" width="100" align="center">用户名</th>
    <th field="password" width="100" align="center">用户密码</th>
    <th field="roleName" width="150" align="center">用户角色</th>
    <th field="remarks" width="300" align="center">备注</th>
  </tr>
  </thead>
</table>
<div id="tb">
  <div>
    <a href="" class="easyui-linkbutton" iconCls="icon-add" plain="true">添加</a>
    <a href="" class="easyui-linkbutton" iconCls="icon-edit" plain="true">修改</a>
    <a href="" class="easyui-linkbutton" iconCls="icon-remove" plain="true">删除</a>
  </div>
  <div>
    &nbsp;用户名：&nbsp;<input type="text" name="s_userName" id="s_userName" size="20" onkeydown="if(event.keyCode==13) searchUser()"/>
    &nbsp;用户角色：&nbsp;<input id="s_roleId" name="s_roleId" size="20" />
    <a href="javascript:searchUser()" class="easyui-linkbutton" iconCls="icon-search" plain="true">搜索</a>
    <a href="javascript:clear()" class="easyui-linkbutton" iconCls="icon-clear" plain="true">重置</a>
  </div>
</div>
<script type="text/javascript">
  $(function (){
    $('#s_roleId').combobox({
      url:'role?action=comBoList',
      valueField:'id',
      textField:'text'
    });
  })

  function searchUser(){
    $('#dg').datagrid('load',{
      s_userName:$("#s_userName").val(),
      s_roleId:$('#s_roleId').combobox("getValue")
    });
  }

  function clear(){
    $("#s_userName").val('');
    $('#s_roleId').combobox('clear');
  }
</script>
</body>
</html>